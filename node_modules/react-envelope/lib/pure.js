'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = pure;

var _getEnhancedComponent = require('./utils/getEnhancedComponent');

var _getEnhancedComponent2 = _interopRequireDefault(_getEnhancedComponent);

var _shallowEqualProps = require('./utils/shallowEqualProps');

var _shallowEqualProps2 = _interopRequireDefault(_shallowEqualProps);

var _shallowEqualStates = require('./utils/shallowEqualStates');

var _shallowEqualStates2 = _interopRequireDefault(_shallowEqualStates);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function pure() {
  return function (BaseComponent) {
    var EnhancedComponent = (0, _getEnhancedComponent2.default)(BaseComponent);

    function shouldComponentUpdate(nextProps, nextState) {
      // props or states are not equal -> update
      if (!(0, _shallowEqualProps2.default)(this.props, nextProps) || !(0, _shallowEqualStates2.default)(this.state, nextState)) {
        return true;
      }

      // props and states are equal -> don't update
      return false;
    }

    // prototype
    EnhancedComponent.prototype.shouldComponentUpdate = shouldComponentUpdate;

    return EnhancedComponent;
  };
}